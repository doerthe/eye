PREFIX dqt: <http://josd.github.io/eye/eyereasoning/dqt#>

false dqt:r false.
true dqt:r true.

false dqt:s true.
true dqt:s false.

false dqt:u false.
false dqt:u true.
true dqt:u true.

false dqt:v false.
false dqt:v true.
true dqt:v false.

false dqt:rd true.
true dqt:rd false.
true dqt:rd true.

false dqt:sd false.
true dqt:sd false.
true dqt:sd true.

false dqt:ud true.
true dqt:ud false.

false dqt:vd false.
true dqt:vd true.

false dqt:eq false.
true dqt:eq true.

false dqt:id false.
true dqt:id true.

false dqt:g true.
true dqt:g false.

false dqt:k false.
true dqt:k false.
true dqt:k true.

{?X dqt:gk ?Y} <= {
	?X dqt:g ?Z.
	?Z dqt:k ?Y.
}.

{0 dqt:alice (?X ?Y)} <= {
	?X dqt:id ?Y.
}.
{1 dqt:alice (?X ?Y)} <= {
	?X dqt:g ?Y.
}.
{2 dqt:alice (?X ?Y)} <= {
	?X dqt:k ?Y.
}.
{3 dqt:alice (?X ?Y)} <= {
	?X dqt:gk ?Y.
}.

{?N dqt:sdcoding ?M} <= {
	?X dqt:r ?Y.
	?N dqt:alice (?X ?B).
	(?B ?Y) dqt:measure ?M.
}.

{(?S1 ?S2) dqt:measure 0} <= {
	?B1 dqt:rd ?B2.
	(?B1 ?B2) dqt:dotP (?S1 ?S2).
}.
{(?S1 ?S2) dqt:measure 1} <= {
	?B1 dqt:sd ?B2.
	(?B1 ?B2) dqt:dotP (?S1 ?S2).
}.
{(?S1 ?S2) dqt:measure 2} <= {
	?B1 dqt:ud ?B2.
	(?B1 ?B2) dqt:dotP (?S1 ?S2).
}.
{(?S1 ?S2) dqt:measure 3} <= {
	?B1 dqt:vd ?B2.
	(?B1 ?B2) dqt:dotP (?S1 ?S2).
}.

{(?B1 ?B2) dqt:dotP (?S1 ?S2)} <= {
	?B1 dqt:eq ?S1.
	?B2 dqt:eq ?S2.
}.
